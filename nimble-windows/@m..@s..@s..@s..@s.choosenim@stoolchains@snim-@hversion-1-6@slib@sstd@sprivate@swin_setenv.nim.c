/* Generated by Nim Compiler v1.6.11 */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include <stdlib.h>
#include <errno.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
  #  define nimfr_(proc, file) \
      TFrame FR_; \
      FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = 0; nimFrame(&FR_);

  #  define nimfrs_(proc, file, slots, length) \
      struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename; NI len; VarSlot s[slots];} FR_; \
      FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = length; nimFrame((TFrame*)&FR_);

  #  define nimln_(n, file) \
      FR_.line = n; FR_.filename = file;
  typedef struct NimStringDesc NimStringDesc;
typedef struct TGenericSeq TGenericSeq;
typedef struct tySequence__9aKpvUh0ca6Bp9cKAwrowqUg tySequence__9aKpvUh0ca6Bp9cKAwrowqUg;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
struct TGenericSeq {
NI len;
NI reserved;
};
struct NimStringDesc {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
typedef NU8 tyEnum_TNimKind__jIBKr1ejBgsfM33Kxw4j7A;
typedef NU8 tySet_tyEnum_TNimTypeFlag__v8QUszD1sWlSIWZz7mC4bQ;
typedef N_NIMCALL_PTR(void, tyProc__ojoeKfW4VYIm36I9cpDTQIg) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, tyProc__WSm2xU5ARYv9aAR4l0z9c9auQ) (void* p);
struct TNimType {
NI size;
NI align;
tyEnum_TNimKind__jIBKr1ejBgsfM33Kxw4j7A kind;
tySet_tyEnum_TNimTypeFlag__v8QUszD1sWlSIWZz7mC4bQ flags;
TNimType* base;
TNimNode* node;
void* finalizer;
tyProc__ojoeKfW4VYIm36I9cpDTQIg marker;
tyProc__WSm2xU5ARYv9aAR4l0z9c9auQ deepcopy;
};
typedef NU8 tyEnum_TNimNodeKind__unfNsxrcATrufDZmpBq4HQ;
struct TNimNode {
tyEnum_TNimNodeKind__unfNsxrcATrufDZmpBq4HQ kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
typedef NI16 tyUncheckedArray__Tyd4y3haUOOHTj71TPIRag[1];
typedef N_STDCALL_PTR(NI32, tyProc__3pVglHKolpBa6UoJifpHkA) (NCSTRING lpName, NCSTRING lpValue);
struct tySequence__9aKpvUh0ca6Bp9cKAwrowqUg {
  TGenericSeq Sup;
  NI16 data[SEQ_DECL_SIZE];
};
static N_INLINE(NIM_BOOL, eqeq___system_7825)(NCSTRING x, NCSTRING y);
static N_INLINE(void, nimFrame)(TFrame* s);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached__system_2999)(void);
static N_INLINE(void, popFrame)(void);
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringDesc* s);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
static N_INLINE(void, copyMem__system_1727)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorNoArgs)(void);
N_LIB_PRIVATE N_NIMCALL(tySequence__9aKpvUh0ca6Bp9cKAwrowqUg*, newSeq__stdZprivateZwin95setenv_36)(NI len);
static N_NIMCALL(void, Marker_tySequence__9aKpvUh0ca6Bp9cKAwrowqUg)(void* p, NI op);
N_LIB_PRIVATE N_NOINLINE(void, raiseOverflow)(void);
N_LIB_PRIVATE N_NOINLINE(void, raiseRangeErrorI)(NI64 i, NI64 a, NI64 b);
N_LIB_PRIVATE N_NOINLINE(void, raiseIndexError2)(NI i, NI n);
N_LIB_PRIVATE N_NIMCALL(void*, nimLoadLibrary)(NimStringDesc* path);
N_LIB_PRIVATE N_NIMCALL(void, nimLoadLibraryError)(NimStringDesc* path);
N_LIB_PRIVATE N_NIMCALL(void*, nimGetProcAddr)(void* lib, NCSTRING name);
STRING_LITERAL(TM__UOYsq9cbb0VE8vr3Xt181HA_2, "=", 1);
STRING_LITERAL(TM__UOYsq9cbb0VE8vr3Xt181HA_3, "=  ", 3);
extern TNimType NTIint4954__kDPg4wXyR8DDyA0MeEjIsw_;
N_LIB_PRIVATE TNimType NTIseqLutf4954charT__9aKpvUh0ca6Bp9cKAwrowqUg_;
STRING_LITERAL(TM__UOYsq9cbb0VE8vr3Xt181HA_8, "kernel32", 8);
STRING_LITERAL(TM__UOYsq9cbb0VE8vr3Xt181HA_9, "kernel32", 8);
extern wchar_t** _wenviron;
extern TFrame* framePtr__system_2566;
extern TFrame* framePtr__system_2566;
extern TFrame* framePtr__system_2566;
extern TFrame* framePtr__system_2566;
extern TFrame* framePtr__system_2566;
extern TFrame* framePtr__system_2566;
static void* TM__UOYsq9cbb0VE8vr3Xt181HA_6;
tyProc__3pVglHKolpBa6UoJifpHkA Dl_1375731714_;
static N_INLINE(void, nimFrame)(TFrame* s) {
	{
		if (!(framePtr__system_2566 == ((TFrame*) NIM_NIL))) goto LA3_;
		(*s).calldepth = ((NI16) 0);
	}
	goto LA1_;
	LA3_: ;
	{
		(*s).calldepth = (NI16)((*framePtr__system_2566).calldepth + ((NI16) 1));
	}
	LA1_: ;
	(*s).prev = framePtr__system_2566;
	framePtr__system_2566 = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA8_;
		callDepthLimitReached__system_2999();
	}
	LA8_: ;
}
static N_INLINE(void, popFrame)(void) {
	framePtr__system_2566 = (*framePtr__system_2566).prev;
}
static N_INLINE(NIM_BOOL, eqeq___system_7825)(NCSTRING x, NCSTRING y) {
	NIM_BOOL result;
	nimfr_("==", "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/system.nim");
	result = (NIM_BOOL)0;
	nimln_(2994, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/system.nim");
	{
		if (!(((void*) (x)) == ((void*) (y)))) goto LA3_;
		result = NIM_TRUE;
	}
	goto LA1_;
	LA3_: ;
	{
		NIM_BOOL T6_;
		nimln_(2995, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/system.nim");
		T6_ = (NIM_BOOL)0;
		T6_ = (x == 0);
		if (T6_) goto LA7_;
		T6_ = (y == 0);
		LA7_: ;
		if (!T6_) goto LA8_;
		result = NIM_FALSE;
	}
	goto LA1_;
	LA8_: ;
	{
		int T11_;
		nimln_(2996, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/system.nim");
		T11_ = (int)0;
		T11_ = strcmp(x, y);
		result = (T11_ == ((NI32) 0));
	}
	LA1_: ;
	popFrame();
	return result;
}
static N_INLINE(NCSTRING, nimToCStringConv)(NimStringDesc* s) {
	NCSTRING result;
	result = (NCSTRING)0;
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = (s == ((NimStringDesc*) NIM_NIL));
		if (T3_) goto LA4_;
		T3_ = ((*s).Sup.len == ((NI) 0));
		LA4_: ;
		if (!T3_) goto LA5_;
		result = "";
	}
	goto LA1_;
	LA5_: ;
	{
		result = ((NCSTRING) ((*s).data));
	}
	LA1_: ;
	return result;
}
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
}
static N_INLINE(void, copyMem__system_1727)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	{
		if (!!((src == ((NimStringDesc*) NIM_NIL)))) goto LA3_;
		copyMem__system_1727(((void*) ((&(*dest).data[(*dest).Sup.len]))), ((void*) ((*src).data)), ((NI) ((NI)((*src).Sup.len + ((NI) 1)))));
		(*dest).Sup.len += (*src).Sup.len;
	}
	LA3_: ;
}
static N_NIMCALL(void, Marker_tySequence__9aKpvUh0ca6Bp9cKAwrowqUg)(void* p, NI op) {
	tySequence__9aKpvUh0ca6Bp9cKAwrowqUg* a;
	NI T1_;
	a = (tySequence__9aKpvUh0ca6Bp9cKAwrowqUg*)p;
	T1_ = (NI)0;
}
N_LIB_PRIVATE N_NIMCALL(int, setEnvImpl__stdZprivateZwin95setenv_17)(NimStringDesc* name, NimStringDesc* value, int overwrite) {
	int result;
	NimStringDesc* envstring_2;
	NimStringDesc* T18_;
	NCSTRING s;
	nimfr_("setEnvImpl", "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
{	result = (int)0;
	nimln_(45, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	{
		NIM_BOOL T3_;
		NCSTRING T5_;
		NIM_BOOL T6_;
		T3_ = (NIM_BOOL)0;
		T3_ = (overwrite == ((NI32) 0));
		if (!(T3_)) goto LA4_;
		T5_ = (NCSTRING)0;
		T5_ = getenv(nimToCStringConv(name));
		T6_ = (NIM_BOOL)0;
		T6_ = eqeq___system_7825(T5_, ((NCSTRING) NIM_NIL));
		T3_ = !(T6_);
		LA4_: ;
		if (!T3_) goto LA7_;
		result = ((int) 0);
		goto BeforeRet_;
	}
	LA7_: ;
	nimln_(46, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	{
		NimStringDesc* envstring;
		NimStringDesc* T13_;
		int e;
		if (!!(((value ? value->Sup.len : 0) == 0))) goto LA11_;
		nimln_(47, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		T13_ = NIM_NIL;
		T13_ = rawNewString((name ? name->Sup.len : 0) + (value ? value->Sup.len : 0) + 1);
appendString(T13_, name);
appendString(T13_, ((NimStringDesc*) &TM__UOYsq9cbb0VE8vr3Xt181HA_2));
appendString(T13_, value);
		envstring = T13_;
		nimln_(48, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		e = _putenv(nimToCStringConv(envstring));
		nimln_(49, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		{
			if (!!((e == ((NI32) 0)))) goto LA16_;
			nimln_(50, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
			errno = ((int) 22);
			nimln_(51, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
			result = ((int) -1);
			goto BeforeRet_;
		}
		LA16_: ;
		nimln_(52, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		result = ((int) 0);
		goto BeforeRet_;
	}
	LA11_: ;
	nimln_(59, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	T18_ = NIM_NIL;
	T18_ = rawNewString((name ? name->Sup.len : 0) + 3);
appendString(T18_, name);
appendString(T18_, ((NimStringDesc*) &TM__UOYsq9cbb0VE8vr3Xt181HA_3));
	envstring_2 = T18_;
	nimln_(60, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	{
		int T21_;
		T21_ = (int)0;
		T21_ = _putenv(nimToCStringConv(envstring_2));
		if (!!((T21_ == ((NI32) 0)))) goto LA22_;
		nimln_(61, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		errno = ((int) 22);
		nimln_(62, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		result = ((int) -1);
		goto BeforeRet_;
	}
	LA22_: ;
	nimln_(64, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	s = getenv(nimToCStringConv(name));
	nimln_(65, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	s[((NI) 0)] = 0;
	nimln_(71, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	s = getenv(nimToCStringConv(name));
	nimln_(72, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	s[((NI) 1)] = 61;
	nimln_(79, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	{
		NI requiredSize;
		size_t T28_;
		tySequence__9aKpvUh0ca6Bp9cKAwrowqUg* buf;
		NI TM__UOYsq9cbb0VE8vr3Xt181HA_4;
		wchar_t* buf2;
		NI16* ptrToEnv;
		wchar_t* T34_;
		wchar_t* T35_;
		if (!!((_wenviron == ((wchar_t**) NIM_NIL)))) goto LA26_;
		nimln_(81, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		T28_ = (size_t)0;
		T28_ = mbstowcs(((wchar_t*) NIM_NIL), nimToCStringConv(name), ((size_t) 0));
		if (T28_ > (size_t)(((NI) IL64(9223372036854775807)))){ raiseRangeErrorNoArgs(); }
		requiredSize = ((NI) (T28_));
		nimln_(82, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		if (nimAddInt(requiredSize, ((NI) 1), &TM__UOYsq9cbb0VE8vr3Xt181HA_4)) { raiseOverflow(); };
		if (((NI)(TM__UOYsq9cbb0VE8vr3Xt181HA_4)) < ((NI) 0) || ((NI)(TM__UOYsq9cbb0VE8vr3Xt181HA_4)) > ((NI) IL64(9223372036854775807))){ raiseRangeErrorI((NI)(TM__UOYsq9cbb0VE8vr3Xt181HA_4), ((NI) 0), ((NI) IL64(9223372036854775807))); }
		buf = newSeq__stdZprivateZwin95setenv_36(((NI) ((NI)(TM__UOYsq9cbb0VE8vr3Xt181HA_4))));
		nimln_(83, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		if (((NI) 0) < 0 || ((NI) 0) >= (buf ? buf->Sup.len : 0)){ raiseIndexError2(((NI) 0),(buf ? buf->Sup.len : 0)-1); }
		buf2 = ((wchar_t*) ((&buf->data[((NI) 0)])));
		nimln_(84, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		{
			NI TM__UOYsq9cbb0VE8vr3Xt181HA_5;
			size_t T31_;
			if (nimAddInt(requiredSize, ((NI) 1), &TM__UOYsq9cbb0VE8vr3Xt181HA_5)) { raiseOverflow(); };
			T31_ = (size_t)0;
			T31_ = mbstowcs(buf2, nimToCStringConv(name), ((size_t) ((NI)(TM__UOYsq9cbb0VE8vr3Xt181HA_5))));
			if (!(T31_ == ((size_t) -1))) goto LA32_;
			nimln_(85, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
			errno = ((int) 22);
			nimln_(86, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
			result = ((int) -1);
			goto BeforeRet_;
		}
		LA32_: ;
		nimln_(87, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		T34_ = (wchar_t*)0;
		T34_ = _wgetenv(buf2);
		ptrToEnv = ((NI16*) (T34_));
		nimln_(88, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		ptrToEnv[((NI) 0)] = ((NI16) 0);
		nimln_(89, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		T35_ = (wchar_t*)0;
		T35_ = _wgetenv(buf2);
		ptrToEnv = ((NI16*) (T35_));
		nimln_(90, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		ptrToEnv[((NI) 1)] = ((NI16) 61);
	}
	LA26_: ;
	nimln_(93, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	{
		NI32 T38_;
		T38_ = (NI32)0;
		T38_ = Dl_1375731714_(nimToCStringConv(name), nimToCStringConv(value));
		if (!(T38_ == ((NI32) 0))) goto LA39_;
		nimln_(94, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		errno = ((int) 22);
		nimln_(95, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
		result = ((int) -1);
		goto BeforeRet_;
	}
	LA39_: ;
	nimln_(96, "/home/yyoncho/.choosenim/toolchains/nim-#version-1-6/lib/std/private/win_setenv.nim");
	result = ((int) 0);
	goto BeforeRet_;
	}BeforeRet_: ;
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, atmdotdotatsdotdotatsdotdotatsdotdotatsdotchoosenimatstoolchainsatsnimminusathversionminus1minus6atslibatsstdatsprivateatswin_setenvdotnim_DatInit000)(void) {
NTIseqLutf4954charT__9aKpvUh0ca6Bp9cKAwrowqUg_.size = sizeof(tySequence__9aKpvUh0ca6Bp9cKAwrowqUg*);
NTIseqLutf4954charT__9aKpvUh0ca6Bp9cKAwrowqUg_.align = NIM_ALIGNOF(tySequence__9aKpvUh0ca6Bp9cKAwrowqUg*);
NTIseqLutf4954charT__9aKpvUh0ca6Bp9cKAwrowqUg_.kind = 24;
NTIseqLutf4954charT__9aKpvUh0ca6Bp9cKAwrowqUg_.base = (&NTIint4954__kDPg4wXyR8DDyA0MeEjIsw_);
NTIseqLutf4954charT__9aKpvUh0ca6Bp9cKAwrowqUg_.marker = Marker_tySequence__9aKpvUh0ca6Bp9cKAwrowqUg;
if (!((TM__UOYsq9cbb0VE8vr3Xt181HA_6 = nimLoadLibrary(((NimStringDesc*) &TM__UOYsq9cbb0VE8vr3Xt181HA_8)))
)) nimLoadLibraryError(((NimStringDesc*) &TM__UOYsq9cbb0VE8vr3Xt181HA_9));
	Dl_1375731714_ = (tyProc__3pVglHKolpBa6UoJifpHkA) nimGetProcAddr(TM__UOYsq9cbb0VE8vr3Xt181HA_6, "SetEnvironmentVariableA");
}

