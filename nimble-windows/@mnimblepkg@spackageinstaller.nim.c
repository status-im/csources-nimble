/* Generated by Nim Compiler v1.7.1 */
#define NIM_INTBITS 64

#include "nimbase.h"
#include <string.h>
#include <windows.h>
#undef LANGUAGE_C
#undef MIPSEB
#undef MIPSEL
#undef PPC
#undef R3000
#undef R4000
#undef i386
#undef linux
#undef mips
#undef near
#undef far
#undef powerpc
#undef unix
  #  define nimfr_(proc, file) \
      TFrame FR_; \
      FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = 0; nimFrame(&FR_);

  #  define nimfrs_(proc, file, slots, length) \
      struct {TFrame* prev;NCSTRING procname;NI line;NCSTRING filename; NI len; VarSlot s[slots];} FR_; \
      FR_.procname = proc; FR_.filename = file; FR_.line = 0; FR_.len = length; nimFrame((TFrame*)&FR_);

  #  define nimln_(n, file) \
      FR_.line = n; FR_.filename = file;
  typedef struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ tySequence__sM4lkSb7zS6F7OVMvW9cffQ;
typedef struct TGenericSeq TGenericSeq;
typedef struct NimStringDesc NimStringDesc;
typedef struct tyObject_Options__LR5gStV09bAFaOqz9agkkZxQ tyObject_Options__LR5gStV09bAFaOqz9agkkZxQ;
typedef struct tyObject_OSVERSIONINFO__H1gItvrTlN1hMr5DznqpGA tyObject_OSVERSIONINFO__H1gItvrTlN1hMr5DznqpGA;
typedef struct tyObject_NimbleError__6rmfqzY5PO7blXdlEs8gjQ tyObject_NimbleError__6rmfqzY5PO7blXdlEs8gjQ;
typedef struct tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA;
typedef struct Exception Exception;
typedef struct RootObj RootObj;
typedef struct TNimType TNimType;
typedef struct TNimNode TNimNode;
typedef struct tySequence__uB9b75OUPRENsBAu4AnoePA tySequence__uB9b75OUPRENsBAu4AnoePA;
typedef struct tyObject_Action__Axd3qAbppa2kHdtxRGykNw tyObject_Action__Axd3qAbppa2kHdtxRGykNw;
typedef struct tySequence__kLwf9aGQcuduFr4gekUDa2w tySequence__kLwf9aGQcuduFr4gekUDa2w;
typedef struct tySequence__K2J9a59aomOCxv7VVeiHZfug tySequence__K2J9a59aomOCxv7VVeiHZfug;
typedef struct tyObject_Option__vK1KzfYf1DGLiUIpLm9cS0A tyObject_Option__vK1KzfYf1DGLiUIpLm9cS0A;
typedef struct tyObject_Config__4CDaXnHluuDhjlvHrDG8RA tyObject_Config__4CDaXnHluuDhjlvHrDG8RA;
typedef struct tyObject_Table__9cUbBDOJGZJU2domnRMqAHQ tyObject_Table__9cUbBDOJGZJU2domnRMqAHQ;
typedef struct tySequence__sQx7tKsP6HE09cszRIkxbdg tySequence__sQx7tKsP6HE09cszRIkxbdg;
typedef struct tyObject_Uri__j49bukNPrq747O1GRd4Ng9bQ tyObject_Uri__j49bukNPrq747O1GRd4Ng9bQ;
typedef struct tyObject_JsonNodeObj__df9bshXB7C9cTiWPIOtX3j1Q tyObject_JsonNodeObj__df9bshXB7C9cTiWPIOtX3j1Q;
typedef struct tyObject_Table__861JQ0xhLIYW2jzxkMweLQ tyObject_Table__861JQ0xhLIYW2jzxkMweLQ;
typedef struct tySequence__v6NVljHM6giAeuZKHEoQNA tySequence__v6NVljHM6giAeuZKHEoQNA;
typedef struct tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g;
typedef struct tyObject_CellSeq__Axo1XVm9aaQueTOldv8le5w tyObject_CellSeq__Axo1XVm9aaQueTOldv8le5w;
typedef struct tyObject_GcHeap__1TRH1TZMaVZTnLNcIHuNFQ tyObject_GcHeap__1TRH1TZMaVZTnLNcIHuNFQ;
typedef struct tyObject_GcStack__7fytPA5bBsob6See21YMRA tyObject_GcStack__7fytPA5bBsob6See21YMRA;
typedef struct tyObject_MemRegion__x81NhDv59b8ercDZ9bi85jyg tyObject_MemRegion__x81NhDv59b8ercDZ9bi85jyg;
typedef struct tyObject_SmallChunk__tXn60W2f8h3jgAYdEmy5NQ tyObject_SmallChunk__tXn60W2f8h3jgAYdEmy5NQ;
typedef struct tyObject_BigChunk__Rv9c70Uhp2TytkX7eH78qEg tyObject_BigChunk__Rv9c70Uhp2TytkX7eH78qEg;
typedef struct tyObject_LLChunk__XsENErzHIZV9bhvyJx56wGw tyObject_LLChunk__XsENErzHIZV9bhvyJx56wGw;
typedef struct tyObject_IntSet__EZObFrE3NC9bIb3YMkY9crZA tyObject_IntSet__EZObFrE3NC9bIb3YMkY9crZA;
typedef struct tyObject_Trunk__W0r8S0Y3UGke6T9bIUWnnuw tyObject_Trunk__W0r8S0Y3UGke6T9bIUWnnuw;
typedef struct tyObject_AvlNode__IaqjtwKhxLEpvDS9bct9blEw tyObject_AvlNode__IaqjtwKhxLEpvDS9bct9blEw;
typedef struct tyObject_HeapLinks__PDV1HBZ8CQSQJC9aOBFNRSg tyObject_HeapLinks__PDV1HBZ8CQSQJC9aOBFNRSg;
typedef struct tyTuple__ujsjpB2O9cjj3uDHsXbnSzg tyTuple__ujsjpB2O9cjj3uDHsXbnSzg;
typedef struct tyObject_GcStat__0RwLoVBHZPfUAcLczmfQAg tyObject_GcStat__0RwLoVBHZPfUAcLczmfQAg;
typedef struct tyObject_CellSet__jG87P0AI9aZtss9ccTYBIISQ tyObject_CellSet__jG87P0AI9aZtss9ccTYBIISQ;
typedef struct tyObject_PageDesc__fublkgIY4LG3mT51LU2WHg tyObject_PageDesc__fublkgIY4LG3mT51LU2WHg;
typedef struct tyObject_SharedList__JI9cx34TL8n3aOKF6tSMBUw tyObject_SharedList__JI9cx34TL8n3aOKF6tSMBUw;
typedef struct tyObject_SharedListNodecolonObjectType___KGw0YAw6W9aSz3Sr9aXGu7zg tyObject_SharedListNodecolonObjectType___KGw0YAw6W9aSz3Sr9aXGu7zg;
typedef struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA;
typedef struct tyTuple__gDWaEqPfhOauJWKMBm8bzg tyTuple__gDWaEqPfhOauJWKMBm8bzg;
typedef struct tyObject_VersionRangeObj__FrJQzed5Yezqp6gCbEyg0w tyObject_VersionRangeObj__FrJQzed5Yezqp6gCbEyg0w;
typedef struct tyTuple__7OnuWIzW3xYXy9bIUIvuRmA tyTuple__7OnuWIzW3xYXy9bIUIvuRmA;
typedef struct tyTuple__vQEyvUeZmB7ODgnsZ5BScQ tyTuple__vQEyvUeZmB7ODgnsZ5BScQ;
typedef struct tyObject_PackageList__00UcE13159cf20wGpsHwwMg tyObject_PackageList__00UcE13159cf20wGpsHwwMg;
typedef struct tyTuple__rLNSKSsDc19cDzAtjOZs9cSw tyTuple__rLNSKSsDc19cDzAtjOZs9cSw;
struct TGenericSeq {
NI len;
NI reserved;
};
struct NimStringDesc {
  TGenericSeq Sup;
NIM_CHAR data[SEQ_DECL_SIZE];
};
typedef NU16 tySet_tyEnum_FilePermission__uTVeDpjCH6aWw9c74YkAskA;
typedef NIM_CHAR tyArray__Zi76kwLs40ycIpfYa0tP7Q[128];
struct tyObject_OSVERSIONINFO__H1gItvrTlN1hMr5DznqpGA {
NI32 dwOSVersionInfoSize;
NI32 dwMajorVersion;
NI32 dwMinorVersion;
NI32 dwBuildNumber;
NI32 dwPlatformId;
tyArray__Zi76kwLs40ycIpfYa0tP7Q szCSDVersion;
};
typedef N_STDCALL_PTR(NI32, tyProc__iFRTcmMTw1TazdzRbzql4Q) (tyObject_OSVERSIONINFO__H1gItvrTlN1hMr5DznqpGA* VersionInformation);
typedef NU8 tyEnum_TNimKind__jIBKr1ejBgsfM33Kxw4j7A;
typedef NU8 tySet_tyEnum_TNimTypeFlag__v8QUszD1sWlSIWZz7mC4bQ;
typedef N_NIMCALL_PTR(void, tyProc__ojoeKfW4VYIm36I9cpDTQIg) (void* p, NI op);
typedef N_NIMCALL_PTR(void*, tyProc__WSm2xU5ARYv9aAR4l0z9c9auQ) (void* p);
struct TNimType {
NI size;
NI align;
tyEnum_TNimKind__jIBKr1ejBgsfM33Kxw4j7A kind;
tySet_tyEnum_TNimTypeFlag__v8QUszD1sWlSIWZz7mC4bQ flags;
TNimType* base;
TNimNode* node;
void* finalizer;
tyProc__ojoeKfW4VYIm36I9cpDTQIg marker;
tyProc__WSm2xU5ARYv9aAR4l0z9c9auQ deepcopy;
};
struct RootObj {
TNimType* m_type;
};
struct Exception {
  RootObj Sup;
Exception* parent;
NCSTRING name;
NimStringDesc* message;
tySequence__uB9b75OUPRENsBAu4AnoePA* trace;
Exception* up;
};
typedef NU8 tyEnum_DisplayType__HypVeg1P09aXzPaqyobO7xA;
typedef NU8 tyEnum_Priority__8lOyDpa4mymX3OHP5fBsAQ;
typedef NimStringDesc* tyArray__Re75IspeoxXy2oCZHwcRrA[2];
typedef NU8 tyEnum_ForcePrompt__djMIU0KJ4yj4ST3o49caOhA;
typedef NU8 tyEnum_ActionType__w1V3R82mpkCDejycxLFPdg;
struct tyObject_Option__vK1KzfYf1DGLiUIpLm9cS0A {
NimStringDesc* val;
NIM_BOOL has;
};
struct tyObject_Action__Axd3qAbppa2kHdtxRGykNw {
tyEnum_ActionType__w1V3R82mpkCDejycxLFPdg typ;
union{
struct {NIM_BOOL listOnly;
} _typ_2;
struct {NimStringDesc* optionalURL;
} _typ_3;
struct {tySequence__kLwf9aGQcuduFr4gekUDa2w* packages;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* passNimFlags;
tySequence__K2J9a59aomOCxv7VVeiHZfug* devActions;
NimStringDesc* path;
NIM_BOOL noRebuild;
NIM_BOOL withDependencies;
NimStringDesc* developFile;
NIM_BOOL global;
} _typ_4;
struct {tySequence__sM4lkSb7zS6F7OVMvW9cffQ* search;
} _typ_5;
struct {NimStringDesc* projName;
NimStringDesc* vcsOption;
} _typ_6;
struct {NimStringDesc* file;
NimStringDesc* backend;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* additionalArguments;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* compileOptions;
} _typ_7;
struct {tyObject_Option__vK1KzfYf1DGLiUIpLm9cS0A runFile;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* compileFlags;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* runFlags;
} _typ_8;
struct {NimStringDesc* command;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* arguments;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* custCompileFlags;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* custRunFlags;
} _typ_9;
struct {NimStringDesc* format;
} _typ_10;
};
};
struct tyObject_Table__9cUbBDOJGZJU2domnRMqAHQ {
tySequence__sQx7tKsP6HE09cszRIkxbdg* data;
NI counter;
};
struct tyObject_Uri__j49bukNPrq747O1GRd4Ng9bQ {
NimStringDesc* scheme;
NimStringDesc* username;
NimStringDesc* password;
NimStringDesc* hostname;
NimStringDesc* port;
NimStringDesc* path;
NimStringDesc* query;
NimStringDesc* anchor;
NIM_BOOL opaque;
NIM_BOOL isIpv6;
};
struct tyObject_Config__4CDaXnHluuDhjlvHrDG8RA {
NimStringDesc* nimbleDir;
NIM_BOOL chcp;
tyObject_Table__9cUbBDOJGZJU2domnRMqAHQ packageLists;
NIM_BOOL cloneUsingHttps;
tyObject_Uri__j49bukNPrq747O1GRd4Ng9bQ httpProxy;
};
typedef NU8 tyEnum_DumpMode__lrp4056pVLtFZp9cfnP5HtA;
struct tyObject_Options__LR5gStV09bAFaOqz9agkkZxQ {
tyEnum_ForcePrompt__djMIU0KJ4yj4ST3o49caOhA forcePrompts;
NIM_BOOL depsOnly;
NIM_BOOL uninstallRevDeps;
NIM_BOOL queryVersions;
NIM_BOOL queryInstalled;
NimStringDesc* nimbleDir;
tyEnum_Priority__8lOyDpa4mymX3OHP5fBsAQ verbosity;
tyObject_Action__Axd3qAbppa2kHdtxRGykNw action;
tyObject_Config__4CDaXnHluuDhjlvHrDG8RA config;
tyObject_JsonNodeObj__df9bshXB7C9cTiWPIOtX3j1Q* nimbleData;
tyObject_Table__861JQ0xhLIYW2jzxkMweLQ* pkgInfoCache;
NIM_BOOL showHelp;
NimStringDesc* lockFileName;
NIM_BOOL showVersion;
NIM_BOOL offline;
NIM_BOOL noColor;
NIM_BOOL disableValidation;
NIM_BOOL continueTestsOnFailure;
NIM_BOOL forceFullClone;
tySequence__v6NVljHM6giAeuZKHEoQNA* unknownFlags;
tyEnum_DumpMode__lrp4056pVLtFZp9cfnP5HtA dumpMode;
NimStringDesc* startDir;
NimStringDesc* nim;
NIM_BOOL localdeps;
NIM_BOOL developLocaldeps;
NIM_BOOL disableSslCertCheck;
NIM_BOOL enableTarballs;
NimStringDesc* package;
};
typedef NU8 tyEnum_TNimNodeKind__unfNsxrcATrufDZmpBq4HQ;
struct TNimNode {
tyEnum_TNimNodeKind__unfNsxrcATrufDZmpBq4HQ kind;
NI offset;
TNimType* typ;
NCSTRING name;
NI len;
TNimNode** sons;
};
struct tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g {
NI refcount;
TNimType* typ;
};
struct tyObject_GcStack__7fytPA5bBsob6See21YMRA {
void* bottom;
};
struct tyObject_CellSeq__Axo1XVm9aaQueTOldv8le5w {
NI len;
NI cap;
tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g** d;
};
typedef tyObject_SmallChunk__tXn60W2f8h3jgAYdEmy5NQ* tyArray__SPr7N6UKfuF549bNPiUvSRw[256];
typedef NU32 tyArray__BHbOSqU1t9b3Gt7K2c6fQig[24];
typedef tyObject_BigChunk__Rv9c70Uhp2TytkX7eH78qEg* tyArray__N1u1nqOgmuJN9cSZrnMHgOQ[32];
typedef tyArray__N1u1nqOgmuJN9cSZrnMHgOQ tyArray__B6durA4ZCi1xjJvRtyYxMg[24];
typedef tyObject_Trunk__W0r8S0Y3UGke6T9bIUWnnuw* tyArray__lh2A89ahMmYg9bCmpVaplLbA[256];
struct tyObject_IntSet__EZObFrE3NC9bIb3YMkY9crZA {
tyArray__lh2A89ahMmYg9bCmpVaplLbA data;
};
typedef tyObject_AvlNode__IaqjtwKhxLEpvDS9bct9blEw* tyArray__0aOLqZchNi8nWtMTi8ND8w[2];
struct tyObject_AvlNode__IaqjtwKhxLEpvDS9bct9blEw {
tyArray__0aOLqZchNi8nWtMTi8ND8w link;
NI key;
NI upperBound;
NI level;
};
struct tyTuple__ujsjpB2O9cjj3uDHsXbnSzg {
tyObject_BigChunk__Rv9c70Uhp2TytkX7eH78qEg* Field0;
NI Field1;
};
typedef tyTuple__ujsjpB2O9cjj3uDHsXbnSzg tyArray__LzOv2eCDGiceMKQstCLmhw[30];
struct tyObject_HeapLinks__PDV1HBZ8CQSQJC9aOBFNRSg {
NI len;
tyArray__LzOv2eCDGiceMKQstCLmhw chunks;
tyObject_HeapLinks__PDV1HBZ8CQSQJC9aOBFNRSg* next;
};
struct tyObject_MemRegion__x81NhDv59b8ercDZ9bi85jyg {
NI minLargeObj;
NI maxLargeObj;
tyArray__SPr7N6UKfuF549bNPiUvSRw freeSmallChunks;
NU32 flBitmap;
tyArray__BHbOSqU1t9b3Gt7K2c6fQig slBitmap;
tyArray__B6durA4ZCi1xjJvRtyYxMg matrix;
tyObject_LLChunk__XsENErzHIZV9bhvyJx56wGw* llmem;
NI currMem;
NI maxMem;
NI freeMem;
NI occ;
NI lastSize;
tyObject_IntSet__EZObFrE3NC9bIb3YMkY9crZA chunkStarts;
tyObject_AvlNode__IaqjtwKhxLEpvDS9bct9blEw* root;
tyObject_AvlNode__IaqjtwKhxLEpvDS9bct9blEw* deleted;
tyObject_AvlNode__IaqjtwKhxLEpvDS9bct9blEw* last;
tyObject_AvlNode__IaqjtwKhxLEpvDS9bct9blEw* freeAvlNodes;
NIM_BOOL locked;
NIM_BOOL blockChunkSizeIncrease;
NI nextChunkSize;
tyObject_AvlNode__IaqjtwKhxLEpvDS9bct9blEw bottomData;
tyObject_HeapLinks__PDV1HBZ8CQSQJC9aOBFNRSg heapLinks;
};
struct tyObject_GcStat__0RwLoVBHZPfUAcLczmfQAg {
NI stackScans;
NI cycleCollections;
NI maxThreshold;
NI maxStackSize;
NI maxStackCells;
NI cycleTableSize;
NI64 maxPause;
};
struct tyObject_CellSet__jG87P0AI9aZtss9ccTYBIISQ {
NI counter;
NI max;
tyObject_PageDesc__fublkgIY4LG3mT51LU2WHg* head;
tyObject_PageDesc__fublkgIY4LG3mT51LU2WHg** data;
};
struct tyObject_SharedList__JI9cx34TL8n3aOKF6tSMBUw {
tyObject_SharedListNodecolonObjectType___KGw0YAw6W9aSz3Sr9aXGu7zg* head;
tyObject_SharedListNodecolonObjectType___KGw0YAw6W9aSz3Sr9aXGu7zg* tail;
CRITICAL_SECTION lock;
};
struct tyObject_GcHeap__1TRH1TZMaVZTnLNcIHuNFQ {
tyObject_GcStack__7fytPA5bBsob6See21YMRA stack;
NI cycleThreshold;
NI zctThreshold;
tyObject_CellSeq__Axo1XVm9aaQueTOldv8le5w zct;
tyObject_CellSeq__Axo1XVm9aaQueTOldv8le5w decStack;
tyObject_CellSeq__Axo1XVm9aaQueTOldv8le5w tempStack;
NI recGcLock;
tyObject_MemRegion__x81NhDv59b8ercDZ9bi85jyg region;
tyObject_GcStat__0RwLoVBHZPfUAcLczmfQAg stat;
tyObject_CellSet__jG87P0AI9aZtss9ccTYBIISQ marked;
tyObject_CellSeq__Axo1XVm9aaQueTOldv8le5w additionalRoots;
tyObject_SharedList__JI9cx34TL8n3aOKF6tSMBUw toDispose;
NI gcThreadId;
};
struct tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA {
NCSTRING procname;
NI line;
NCSTRING filename;
};
struct tyTuple__gDWaEqPfhOauJWKMBm8bzg {
NimStringDesc* Field0;
tyObject_VersionRangeObj__FrJQzed5Yezqp6gCbEyg0w* Field1;
};
typedef NU8 tyEnum_DevelopActionType__x2ItfH5czqSlrOttkAoYOQ;
struct tyTuple__7OnuWIzW3xYXy9bIUIvuRmA {
tyEnum_DevelopActionType__x2ItfH5czqSlrOttkAoYOQ Field0;
NimStringDesc* Field1;
};
struct tyObject_PackageList__00UcE13159cf20wGpsHwwMg {
NimStringDesc* name;
tySequence__sM4lkSb7zS6F7OVMvW9cffQ* urls;
NimStringDesc* path;
};
struct tyTuple__vQEyvUeZmB7ODgnsZ5BScQ {
NI Field0;
NimStringDesc* Field1;
tyObject_PackageList__00UcE13159cf20wGpsHwwMg Field2;
};
typedef NU8 tyEnum_CmdLineKind__XkdXq9atxjiuhkFFh0XYrSA;
struct tyTuple__rLNSKSsDc19cDzAtjOZs9cSw {
tyEnum_CmdLineKind__XkdXq9atxjiuhkFFh0XYrSA Field0;
NimStringDesc* Field1;
NimStringDesc* Field2;
};
struct tySequence__sM4lkSb7zS6F7OVMvW9cffQ {
  TGenericSeq Sup;
  NimStringDesc* data[SEQ_DECL_SIZE];
};
struct tySequence__uB9b75OUPRENsBAu4AnoePA {
  TGenericSeq Sup;
  tyObject_StackTraceEntry__oLyohQ7O2XOvGnflOss8EA data[SEQ_DECL_SIZE];
};
struct tySequence__kLwf9aGQcuduFr4gekUDa2w {
  TGenericSeq Sup;
  tyTuple__gDWaEqPfhOauJWKMBm8bzg data[SEQ_DECL_SIZE];
};
struct tySequence__K2J9a59aomOCxv7VVeiHZfug {
  TGenericSeq Sup;
  tyTuple__7OnuWIzW3xYXy9bIUIvuRmA data[SEQ_DECL_SIZE];
};
struct tySequence__sQx7tKsP6HE09cszRIkxbdg {
  TGenericSeq Sup;
  tyTuple__vQEyvUeZmB7ODgnsZ5BScQ data[SEQ_DECL_SIZE];
};
struct tySequence__v6NVljHM6giAeuZKHEoQNA {
  TGenericSeq Sup;
  tyTuple__rLNSKSsDc19cDzAtjOZs9cSw data[SEQ_DECL_SIZE];
};
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, nosrelativePath)(NimStringDesc* path, NimStringDesc* base, NIM_CHAR sep);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, nosparentDir)(NimStringDesc* path);
N_LIB_PRIVATE N_NIMCALL(tySet_tyEnum_FilePermission__uTVeDpjCH6aWw9c74YkAskA, nosgetFilePermissions)(NimStringDesc* filename);
N_LIB_PRIVATE N_NIMCALL(void, nossetFilePermissions)(NimStringDesc* filename, tySet_tyEnum_FilePermission__uTVeDpjCH6aWw9c74YkAskA permissions, NIM_BOOL followSymlinks);
static N_INLINE(void, nimZeroMem)(void* p, NI size);
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size);
N_LIB_PRIVATE N_NIMCALL(void*, nimLoadLibrary)(NimStringDesc* path);
N_LIB_PRIVATE N_NIMCALL(void, nimLoadLibraryError)(NimStringDesc* path);
N_LIB_PRIVATE N_NIMCALL(void*, nimGetProcAddr)(void* lib, NCSTRING name);
N_LIB_PRIVATE N_NIMCALL(tyObject_NimbleError__6rmfqzY5PO7blXdlEs8gjQ*, nimbleError__nimblepkgZcommon_26)(NimStringDesc* msg, NimStringDesc* hint, tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA* details);
N_LIB_PRIVATE N_NIMCALL(void, raiseExceptionEx)(Exception* e, NCSTRING ename, NCSTRING procname, NCSTRING filename, NI line);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, noschangeFileExt)(NimStringDesc* filename, NimStringDesc* ext);
N_LIB_PRIVATE N_NIMCALL(void, display__nimblepkgZcli_156)(NimStringDesc* category, NimStringDesc* msg, tyEnum_DisplayType__HypVeg1P09aXzPaqyobO7xA displayType, tyEnum_Priority__8lOyDpa4mymX3OHP5fBsAQ priority);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, nsuFormatOpenArray)(NimStringDesc* formatstr, NimStringDesc** a, NI aLen_0);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, copyString)(NimStringDesc* src);
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src);
static N_INLINE(void, copyMem__system_1727)(void* dest, void* source, NI size);
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, resizeString)(NimStringDesc* dest, NI addlen);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, rawNewString)(NI space);
N_LIB_PRIVATE N_NIMCALL(void, writeFile__stdZsyncio_622)(NimStringDesc* filename, NimStringDesc* content);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, nosextractFilename)(NimStringDesc* path);
N_LIB_PRIVATE N_NIMCALL(TGenericSeq*, incrSeqV3)(TGenericSeq* s, TNimType* typ);
N_LIB_PRIVATE N_NIMCALL(NimStringDesc*, copyStringRC1)(NimStringDesc* src);
static N_INLINE(void, nimGCunrefNoCycle)(void* p);
static N_INLINE(void, decRef__system_5886)(tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g* c);
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y);
static N_INLINE(void, nimFrame)(TFrame* s);
N_LIB_PRIVATE N_NOINLINE(void, callDepthLimitReached__system_3455)(void);
static N_INLINE(void, popFrame)(void);
static N_INLINE(NIM_BOOL, ltpercent___system_1005)(NI x, NI y);
static N_INLINE(void, rtlAddZCT__system_5884)(tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g* c);
N_LIB_PRIVATE N_NOINLINE(void, addZCT__system_5835)(tyObject_CellSeq__Axo1XVm9aaQueTOldv8le5w* s, tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g* c);
static N_INLINE(tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g*, usrToCell__system_5841)(void* usr);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_4, "kernel32", 8);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_5, "kernel32", 8);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_8, "Can\'t detect OS version: GetVersionExA call failed", 50);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_9, "cmd", 3);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_10, "Creating", 8);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_11, "stub: $1 -> $2", 14);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_12, "@", 1);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_13, "chcp 65001 > nul && ", 20);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_14, "chcp 65001 > nul\012@", 18);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_15, "\"%~dp0\\", 7);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_16, "\" %*\012", 5);
extern TNimType NTIseqLstringT__sM4lkSb7zS6F7OVMvW9cffQ_;
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_17, "Cygwin stub: $1 -> $2", 21);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_18, "\"`dirname \"$0\"`\\", 16);
STRING_LITERAL(TM__yK9aybloZA9bb1n4SolPwsJg_19, "\" \"$@\"\012", 7);
static void* TM__yK9aybloZA9bb1n4SolPwsJg_2;
tyProc__iFRTcmMTw1TazdzRbzql4Q Dl_2936012814_;
extern NIM_THREADVAR TFrame* framePtr__system_3022;
extern NIM_THREADVAR TFrame* framePtr__system_3022;
extern NIM_THREADVAR TFrame* framePtr__system_3022;
extern NIM_THREADVAR TFrame* framePtr__system_3022;
extern NIM_THREADVAR TFrame* framePtr__system_3022;
extern NIM_THREADVAR TFrame* framePtr__system_3022;
extern NIM_THREADVAR tyObject_GcHeap__1TRH1TZMaVZTnLNcIHuNFQ gch__system_5774;
static N_INLINE(void, nimSetMem__systemZmemory_7)(void* a, int v, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memset(a, v, ((size_t) (size)));
}
static N_INLINE(void, nimZeroMem)(void* p, NI size) {
	nimSetMem__systemZmemory_7(p, ((int) 0), size);
}
static N_INLINE(void, nimCopyMem)(void* dest, void* source, NI size) {
	void* T1_;
	T1_ = (void*)0;
	T1_ = memcpy(dest, source, ((size_t) (size)));
}
static N_INLINE(void, copyMem__system_1727)(void* dest, void* source, NI size) {
	nimCopyMem(dest, source, size);
}
static N_INLINE(void, appendString)(NimStringDesc* dest, NimStringDesc* src) {
	{
		if (!!((src == ((NimStringDesc*) NIM_NIL)))) goto LA3_;
		copyMem__system_1727(((void*) ((&(*dest).data[(*dest).Sup.len]))), ((void*) ((*src).data)), ((NI) ((NI)((*src).Sup.len + ((NI) 1)))));
		(*dest).Sup.len += (*src).Sup.len;
	}
	LA3_: ;
}
static N_INLINE(void, nimFrame)(TFrame* s) {
	{
		if (!(framePtr__system_3022 == ((TFrame*) NIM_NIL))) goto LA3_;
		(*s).calldepth = ((NI16) 0);
	}
	goto LA1_;
	LA3_: ;
	{
		(*s).calldepth = (NI16)((*framePtr__system_3022).calldepth + ((NI16) 1));
	}
	LA1_: ;
	(*s).prev = framePtr__system_3022;
	framePtr__system_3022 = s;
	{
		if (!((*s).calldepth == ((NI16) 2000))) goto LA8_;
		callDepthLimitReached__system_3455();
	}
	LA8_: ;
}
static N_INLINE(void, popFrame)(void) {
	framePtr__system_3022 = (*framePtr__system_3022).prev;
}
static N_INLINE(NI, minuspercent___system_716)(NI x, NI y) {
	NI result;
	nimfr_("-%", "/home/yyoncho/Sources/nim/Nim/lib/system/arithmetics.nim");
	result = (NI)0;
	nimln_(414, "/home/yyoncho/Sources/nim/Nim/lib/system/arithmetics.nim");
	nimln_(418, "/home/yyoncho/Sources/nim/Nim/lib/system/arithmetics.nim");
	result = ((NI) ((NU)((NU64)(((NU) (x))) - (NU64)(((NU) (y))))));
	popFrame();
	return result;
}
static N_INLINE(NIM_BOOL, ltpercent___system_1005)(NI x, NI y) {
	NIM_BOOL result;
	nimfr_("<%", "/home/yyoncho/Sources/nim/Nim/lib/system/comparisons.nim");
	result = (NIM_BOOL)0;
	nimln_(186, "/home/yyoncho/Sources/nim/Nim/lib/system/comparisons.nim");
	nimln_(188, "/home/yyoncho/Sources/nim/Nim/lib/system/comparisons.nim");
	result = ((NU64)(((NU) (x))) < (NU64)(((NU) (y))));
	popFrame();
	return result;
}
static N_INLINE(void, rtlAddZCT__system_5884)(tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g* c) {
	nimfr_("rtlAddZCT", "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
	nimln_(243, "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
	addZCT__system_5835((&gch__system_5774.zct), c);
	popFrame();
}
static N_INLINE(void, decRef__system_5886)(tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g* c) {
	nimfr_("decRef", "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
	nimln_(248, "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
	(*c).refcount = minuspercent___system_716((*c).refcount, ((NI) 8));
	nimln_(249, "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
	{
		NIM_BOOL T3_;
		T3_ = (NIM_BOOL)0;
		T3_ = ltpercent___system_1005((*c).refcount, ((NI) 8));
		if (!T3_) goto LA4_;
		nimln_(250, "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
		rtlAddZCT__system_5884(c);
	}
	LA4_: ;
	popFrame();
}
static N_INLINE(tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g*, usrToCell__system_5841)(void* usr) {
	tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g* result;
	NI T1_;
	nimfr_("usrToCell", "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
	result = (tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g*)0;
	nimln_(177, "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
	T1_ = (NI)0;
	T1_ = minuspercent___system_716(((NI) (ptrdiff_t) (usr)), ((NI) 16));
	result = ((tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g*) (T1_));
	popFrame();
	return result;
}
static N_INLINE(void, nimGCunrefNoCycle)(void* p) {
	tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g* T1_;
	nimfr_("nimGCunrefNoCycle", "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
	nimln_(276, "/home/yyoncho/Sources/nim/Nim/lib/system/gc.nim");
	T1_ = (tyObject_Cell__1zcF9cV8XIAtbN8h5HRUB8g*)0;
	T1_ = usrToCell__system_5841(p);
	decRef__system_5886(T1_);
	popFrame();
}
N_LIB_PRIVATE N_NIMCALL(tySequence__sM4lkSb7zS6F7OVMvW9cffQ*, setupBinSymlink__nimblepkgZpackageinstaller_16)(NimStringDesc* symlinkDest, NimStringDesc* symlinkFilename, tyObject_Options__LR5gStV09bAFaOqz9agkkZxQ* options) {
	tySequence__sM4lkSb7zS6F7OVMvW9cffQ* result;
	NimStringDesc* symlinkDestRel;
	NimStringDesc* T1_;
	tySet_tyEnum_FilePermission__uTVeDpjCH6aWw9c74YkAskA currentPerms;
	tyObject_OSVERSIONINFO__H1gItvrTlN1hMr5DznqpGA osver;
	NIM_BOOL fixChcp;
	NimStringDesc* dest;
	tyArray__Re75IspeoxXy2oCZHwcRrA T8_;
	NimStringDesc* T9_;
	NimStringDesc* contents;
	NimStringDesc* T19_;
	NimStringDesc* T20_;
	NI T21_;
	NimStringDesc* T22_;
	NimStringDesc* bashDest;
	tyArray__Re75IspeoxXy2oCZHwcRrA T23_;
	NimStringDesc* T24_;
	NimStringDesc* T25_;
	NimStringDesc* T26_;
	NI T27_;
	NimStringDesc* T28_;
	nimfr_("setupBinSymlink", "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	result = NIM_NIL;
	nimln_(28, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	result = NIM_NIL;
	nimln_(30, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	T1_ = NIM_NIL;
	T1_ = nosparentDir(symlinkFilename);
	symlinkDestRel = nosrelativePath(symlinkDest, T1_, 92);
	nimln_(31, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	currentPerms = nosgetFilePermissions(symlinkDest);
	nimln_(32, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	nossetFilePermissions(symlinkDest, (currentPerms | 1), NIM_TRUE);
	nimZeroMem((void*)(&osver), sizeof(tyObject_OSVERSIONINFO__H1gItvrTlN1hMr5DznqpGA));
	nimln_(47, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	nimZeroMem((void*)(&osver), sizeof(tyObject_OSVERSIONINFO__H1gItvrTlN1hMr5DznqpGA));
	nimln_(48, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	osver.dwOSVersionInfoSize = ((NI32) (((NI) 148)));
	nimln_(49, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	{
		NI32 T4_;
		tyObject_NimbleError__6rmfqzY5PO7blXdlEs8gjQ* T7_;
		T4_ = (NI32)0;
		T4_ = Dl_2936012814_((&osver));
		if (!(T4_ == ((NI32) 0))) goto LA5_;
		nimln_(50, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
		T7_ = NIM_NIL;
		T7_ = nimbleError__nimblepkgZcommon_26(((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_8), ((NimStringDesc*) NIM_NIL), ((tyObject_CatchableError__qrLSDoe2oBoAqNtJ9badtnA*) NIM_NIL));
		raiseExceptionEx((Exception*)T7_, "NimbleError", "setupBinSymlink", "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim", 50);
	}
	LA5_: ;
	nimln_(52, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	fixChcp = (osver.dwMajorVersion <= ((NI32) 5));
	nimln_(55, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	dest = noschangeFileExt(symlinkFilename, ((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_9));
	nimln_(56, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	nimZeroMem((void*)T8_, sizeof(tyArray__Re75IspeoxXy2oCZHwcRrA));
	T8_[0] = copyString(symlinkDest);
	T8_[1] = copyString(dest);
	T9_ = NIM_NIL;
	T9_ = nsuFormatOpenArray(((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_11), T8_, 2);
	display__nimblepkgZcli_156(((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_10), T9_, ((tyEnum_DisplayType__HypVeg1P09aXzPaqyobO7xA) 4), ((tyEnum_Priority__8lOyDpa4mymX3OHP5fBsAQ) 2));
	nimln_(58, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	contents = copyString(((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_12));
	nimln_(59, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	{
		if (!(*options).config.chcp) goto LA12_;
		nimln_(60, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
		{
			if (!fixChcp) goto LA16_;
			nimln_(61, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
			contents = resizeString(contents, 20);
appendString(contents, ((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_13));
		}
		goto LA14_;
		LA16_: ;
		{
			nimln_(62, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
			contents = resizeString(contents, 18);
appendString(contents, ((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_14));
		}
		LA14_: ;
	}
	LA12_: ;
	nimln_(63, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	T19_ = NIM_NIL;
	T19_ = rawNewString((symlinkDestRel ? symlinkDestRel->Sup.len : 0) + 12);
appendString(T19_, ((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_15));
appendString(T19_, symlinkDestRel);
appendString(T19_, ((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_16));
	contents = resizeString(contents, (T19_ ? T19_->Sup.len : 0) + 0);
appendString(contents, T19_);
	nimln_(64, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	writeFile__stdZsyncio_622(dest, contents);
	nimln_(65, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	T20_ = NIM_NIL;
	T20_ = nosextractFilename(dest);
	result = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)(result), (&NTIseqLstringT__sM4lkSb7zS6F7OVMvW9cffQ_));
	T21_ = result->Sup.len++;
	T22_ = NIM_NIL;
	T22_ = result->data[T21_]; result->data[T21_] = copyStringRC1(T20_);
	if (T22_) nimGCunrefNoCycle(T22_);
	nimln_(67, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	bashDest = noschangeFileExt(dest, ((NimStringDesc*) NIM_NIL));
	nimln_(68, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	nimZeroMem((void*)T23_, sizeof(tyArray__Re75IspeoxXy2oCZHwcRrA));
	T23_[0] = copyString(symlinkDest);
	T23_[1] = copyString(bashDest);
	T24_ = NIM_NIL;
	T24_ = nsuFormatOpenArray(((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_17), T23_, 2);
	display__nimblepkgZcli_156(((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_10), T24_, ((tyEnum_DisplayType__HypVeg1P09aXzPaqyobO7xA) 4), ((tyEnum_Priority__8lOyDpa4mymX3OHP5fBsAQ) 2));
	nimln_(70, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	T25_ = NIM_NIL;
	T25_ = rawNewString((symlinkDestRel ? symlinkDestRel->Sup.len : 0) + 23);
appendString(T25_, ((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_18));
appendString(T25_, symlinkDestRel);
appendString(T25_, ((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_19));
	writeFile__stdZsyncio_622(bashDest, T25_);
	nimln_(71, "/home/yyoncho/Sources/nim/nimble/src/nimblepkg/packageinstaller.nim");
	T26_ = NIM_NIL;
	T26_ = nosextractFilename(bashDest);
	result = (tySequence__sM4lkSb7zS6F7OVMvW9cffQ*) incrSeqV3((TGenericSeq*)(result), (&NTIseqLstringT__sM4lkSb7zS6F7OVMvW9cffQ_));
	T27_ = result->Sup.len++;
	T28_ = NIM_NIL;
	T28_ = result->data[T27_]; result->data[T27_] = copyStringRC1(T26_);
	if (T28_) nimGCunrefNoCycle(T28_);
	popFrame();
	return result;
}
N_LIB_PRIVATE N_NIMCALL(void, atmnimblepkgatspackageinstallerdotnim_DatInit000)(void) {
if (!((TM__yK9aybloZA9bb1n4SolPwsJg_2 = nimLoadLibrary(((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_4)))
)) nimLoadLibraryError(((NimStringDesc*) &TM__yK9aybloZA9bb1n4SolPwsJg_5));
	Dl_2936012814_ = (tyProc__iFRTcmMTw1TazdzRbzql4Q) nimGetProcAddr(TM__yK9aybloZA9bb1n4SolPwsJg_2, "GetVersionExA");
}

